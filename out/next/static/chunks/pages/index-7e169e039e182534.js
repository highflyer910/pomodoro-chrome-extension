(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5599)}])},5599:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o=n(5893),r=n(7294),s=n(9008),a=n.n(s),l=n(2034),i=n.n(l);function c(e){let{workTime:t,shortBreakTime:n,longBreakTime:r,handleWorkTimeChange:s,handleShortBreakTimeChange:a,handleLongBreakTimeChange:l,saveSettings:c}=e;return(0,o.jsxs)("div",{className:i().settings,children:[(0,o.jsxs)("label",{className:i().label,children:["Work Time:",(0,o.jsx)("input",{type:"number",value:t,onChange:s})]}),(0,o.jsxs)("label",{className:i().label,children:["Short Break:",(0,o.jsx)("input",{type:"number",value:n,onChange:a})]}),(0,o.jsxs)("label",{className:i().label,children:["Long Break:",(0,o.jsx)("input",{type:"number",value:r,onChange:l})]}),(0,o.jsx)("button",{className:i().controlButton,onClick:c,children:"Save"})]})}function m(){let[e,t]=(0,r.useState)(25),[n,s]=(0,r.useState)(0),[a,l]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(0),[_,g]=(0,r.useState)(25),[x,f]=(0,r.useState)(5),[j,v]=(0,r.useState)(15),[S,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{chrome.storage.local.get(["timerEnd","timerState"],function(e){if(e.timerState){let{isBreak:t,sessions:n}=e.timerState;u(t),h(n)}if(e.timerEnd){let n=Math.max((e.timerEnd-Date.now())/1e3,0);t(Math.floor(n/60)),s(Math.floor(n%60)),l(n>0)}})},[]),(0,r.useEffect)(()=>{let e=null;return a?e=setInterval(()=>{p()},1e3):clearInterval(e),()=>clearInterval(e)},[a,n,e]),(0,r.useEffect)(()=>{a||B()},[_,x,j,m]);let k=()=>{chrome.storage.local.set({timerState:{isBreak:m,sessions:d}})},p=()=>{0===n?0===e?N():(t(e-1),s(59)):s(n-1),k()},N=()=>{m?(h(e=>{let n=e+1;return 4===n?(t(j),h(0)):t(x),n}),u(!0)):(t(_),u(!1)),s(0),l(!1),k()},B=()=>{t(m?x:_),s(0),u(!1),h(0),k()},P=()=>{l(t=>{let o=!t;return o?chrome.runtime.sendMessage({type:"startAlarm",duration:60*e+n}):(chrome.runtime.sendMessage({type:"clearAlarm"}),chrome.storage.local.remove("timerEnd")),o}),k()},C=()=>{l(!1),B(),chrome.runtime.sendMessage({type:"clearAlarm"}),chrome.storage.local.remove("timerEnd")},E=()=>t(e+1),T=()=>{e>0&&t(e-1)};return(0,o.jsx)("div",{className:i().pomodoro,children:S?(0,o.jsx)(c,{workTime:_,shortBreakTime:x,longBreakTime:j,handleWorkTimeChange:e=>g(Number(e.target.value)),handleShortBreakTimeChange:e=>f(Number(e.target.value)),handleLongBreakTimeChange:e=>v(Number(e.target.value)),saveSettings:()=>{B(),b(!1)}}):(0,o.jsxs)("div",{className:i().timerScreen,children:[(0,o.jsx)("h1",{children:m?"Break Time":"Work Time"}),(0,o.jsxs)("div",{className:i().timer,children:[(0,o.jsx)("button",{className:i().timerButton,onClick:T,children:"-"}),e,":",n<10?"0".concat(n):n,(0,o.jsx)("button",{className:i().timerButton,onClick:E,children:"+"})]}),(0,o.jsxs)("div",{className:i().controls,children:[(0,o.jsx)("button",{className:i().controlButton,onClick:P,children:a?"Pause":"Start"}),(0,o.jsx)("button",{className:i().controlButton,onClick:C,children:"Reset"})]}),(0,o.jsxs)("p",{children:["Session ",d+1,"/4"]}),(0,o.jsx)("button",{className:i().settingsButton,onClick:()=>b(!0),children:"Settings"})]})})}function u(){return(0,o.jsxs)("div",{children:[(0,o.jsxs)(a(),{children:[(0,o.jsx)("title",{children:"Pomodoro App"}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.png"})]}),(0,o.jsx)("main",{children:(0,o.jsx)(m,{})})]})}},2034:function(e){e.exports={pomodoro:"Pomodoro_pomodoro__JuzqD",timerScreen:"Pomodoro_timerScreen__RKHyg",timer:"Pomodoro_timer__QP_Qy",timerButton:"Pomodoro_timerButton__evvj7",controls:"Pomodoro_controls__FMFEZ",controlButton:"Pomodoro_controlButton__P__bZ",settingsButton:"Pomodoro_settingsButton__DBFLQ",settings:"Pomodoro_settings__AOn5S",label:"Pomodoro_label__svMrm"}},9008:function(e,t,n){e.exports=n(2636)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);