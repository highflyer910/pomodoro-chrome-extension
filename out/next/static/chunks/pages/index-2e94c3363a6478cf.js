(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(5599)}])},5599:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return u}});var n=o(5893),r=o(7294),s=o(9008),a=o.n(s),l=o(2034),i=o.n(l);function c(e){let{workTime:t,shortBreakTime:o,longBreakTime:r,handleWorkTimeChange:s,handleShortBreakTimeChange:a,handleLongBreakTimeChange:l,saveSettings:c}=e;return(0,n.jsxs)("div",{className:i().settings,children:[(0,n.jsxs)("label",{className:i().label,children:["Work Time:",(0,n.jsx)("input",{type:"number",value:t,onChange:s})]}),(0,n.jsxs)("label",{className:i().label,children:["Short Break:",(0,n.jsx)("input",{type:"number",value:o,onChange:a})]}),(0,n.jsxs)("label",{className:i().label,children:["Long Break:",(0,n.jsx)("input",{type:"number",value:r,onChange:l})]}),(0,n.jsx)("button",{className:i().controlButton,onClick:c,children:"Save"})]})}function m(){let[e,t]=(0,r.useState)(25),[o,s]=(0,r.useState)(0),[a,l]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(0),[_,g]=(0,r.useState)(25),[f,x]=(0,r.useState)(5),[j,v]=(0,r.useState)(15),[S,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{chrome.storage.local.get(["timerEnd","timerState"],function(e){if(e.timerState){let{isBreak:t,sessions:o,workTime:n,shortBreakTime:r,longBreakTime:s}=e.timerState;u(t),h(o),g(n),x(r),v(s)}if(e.timerEnd){let o=Math.max((e.timerEnd-Date.now())/1e3,0);t(Math.floor(o/60)),s(Math.floor(o%60)),l(o>0)}})},[]),(0,r.useEffect)(()=>{let e=null;return a?e=setInterval(()=>{k()},1e3):clearInterval(e),()=>clearInterval(e)},[a,o,e]),(0,r.useEffect)(()=>{a||B()},[_,f,j,m]);let p=()=>{chrome.storage.local.set({timerState:{isBreak:m,sessions:d,workTime:_,shortBreakTime:f,longBreakTime:j}})},k=()=>{0===o?0===e?N():(t(e-1),s(59)):s(o-1),p()},N=()=>{if(m)u(!1),B(),h(d+1);else{let e=d+1===4?60*j:60*f;t(Math.floor(e/60)),s(e%60),u(!0),E(e,!0)}p()},B=()=>{t(m?f:_),s(0),u(!1),p()},E=(e,t)=>{a||(chrome.runtime.sendMessage({type:"startAlarm",duration:e,isBreak:t}),l(!0)),p()},P=()=>{l(t=>(t?(chrome.runtime.sendMessage({type:"clearAlarm"}),chrome.storage.local.remove("timerEnd"),l(!1)):E(60*e+o,m),t)),p()},C=()=>{l(!1),B(),h(0),chrome.runtime.sendMessage({type:"clearAlarm"}),chrome.storage.local.remove("timerEnd"),p()},T=()=>t(e+1),M=()=>{e>0&&t(e-1)};return(0,n.jsx)("div",{className:i().pomodoro,children:S?(0,n.jsx)(c,{workTime:_,shortBreakTime:f,longBreakTime:j,handleWorkTimeChange:e=>g(Number(e.target.value)),handleShortBreakTimeChange:e=>x(Number(e.target.value)),handleLongBreakTimeChange:e=>v(Number(e.target.value)),saveSettings:()=>{B(),h(0),chrome.runtime.sendMessage({type:"clearAlarm"}),chrome.storage.local.remove("timerEnd"),p(),b(!1)}}):(0,n.jsxs)("div",{className:i().timerScreen,children:[(0,n.jsx)("h1",{children:m?"Break Time":"Work Time"}),(0,n.jsxs)("div",{className:i().timer,children:[(0,n.jsx)("button",{className:i().timerButton,onClick:M,children:"-"}),e,":",o<10?"0".concat(o):o,(0,n.jsx)("button",{className:i().timerButton,onClick:T,children:"+"})]}),(0,n.jsxs)("div",{className:i().controls,children:[(0,n.jsx)("button",{className:i().controlButton,onClick:P,children:a?"Pause":"Start"}),(0,n.jsx)("button",{className:i().controlButton,onClick:C,children:"Reset"})]}),(0,n.jsxs)("p",{children:["Session ",d+1,"/4"]}),(0,n.jsx)("button",{className:i().settingsButton,onClick:()=>b(!0),children:"Settings"})]})})}function u(){return(0,n.jsxs)("div",{children:[(0,n.jsxs)(a(),{children:[(0,n.jsx)("title",{children:"Pomodoro App"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.png"})]}),(0,n.jsx)("main",{children:(0,n.jsx)(m,{})})]})}},2034:function(e){e.exports={pomodoro:"Pomodoro_pomodoro__JuzqD",timerScreen:"Pomodoro_timerScreen__RKHyg",timer:"Pomodoro_timer__QP_Qy",timerButton:"Pomodoro_timerButton__evvj7",controls:"Pomodoro_controls__FMFEZ",controlButton:"Pomodoro_controlButton__P__bZ",settingsButton:"Pomodoro_settingsButton__DBFLQ",settings:"Pomodoro_settings__AOn5S",label:"Pomodoro_label__svMrm"}},9008:function(e,t,o){e.exports=o(2636)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);